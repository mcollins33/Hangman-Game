<!DOCTYPE html>
<html>

<head>
    <title>Hangman Game</title>
    <link rel="stylesheet" type="text/css" href="./assets/css/reset.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./assets/css/style.css">
</head>

<body>
    <div class="container-fluid">
        <div id="title">Animal Hangman</div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-6 hangman">
                <div id="game">
                    <p id="start">Press any key to start playing!</p>
                    <h1>Wins: </h1>
                    <h1>Current Word</h1>
                    <div id="blanks">
                    </div>
                    <h1>Guesses Remaining: <span id="timesGuess"></span></h1>
                    <h1>Letters Guessed: <span id="guessIncorrect"></span></h1>
                </div>
            </div>
            <div class="col-md-3 picture">
                <div id="status"></div>
                <div id="guessedWord"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    $(document).ready(function() {

        var animal = ["tiger", "giraffe", "zebra", "lion", "monkey", "cougar", "turkey", "jaguar", "bear", "squirrel", "deer", "bird", "snake", "lemur", "baboon", "racoon", "kangaroo", "moose", "fox"];

        var word = "";
        var blanks = "";
        var userGuess;
        var guessCorrect = [];
        var guessIncorrect = [];
        var timesGuess = 10;
        var keypress = false;
        var newWord = [];
        var letters = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
        var random;
        var guessComplete = 0;
        guessedWord = "";


        document.onkeyup = function(event) {


            //puts blanks for 1st word
            if (keypress === false) {
                random = Math.floor(Math.random() * animal.length - 1) + 1;
                guessedWord = animal[random];
                for (var i = 0; i < animal[random].length; i++) {
                    blanks = blanks + "_";
                    $("#blanks").text(blanks);
                    $("#timesGuess").text(timesGuess);
                    keypress = true;
                }
            }
        }

        document.onkeypress = function(event) {


            if (keypress === true) {
                userGuess = event.key;


                // checks to see if letter guessed is in word and pushes letter to either a correctly guessedor incorrectly guessed array

               
                
                //still need to account for capital letters

                //this alerts user if something other than a letter is pressed
                if (letters.indexOf(userGuess) < 0) {
                    alert("You must select a letter");
                } 
                //this checks the correctly and incorrectly guessed arrays to ensure that the user has not already selected the pressed letter.  if letter has already been selected, it will not count toward the guess.
                else if ((guessCorrect.indexOf(userGuess) > -1) || (guessIncorrect.indexOf(userGuess) > -1)) {
                    alert("This letter has already been selected")
                } else {

                    if (animal[random].indexOf(userGuess) > -1) {
                        guessCorrect.push(userGuess);
                    } else {
                        guessIncorrect.push(userGuess);
                        timesGuess--;
                    }

                }
                // checks to see if each letter in the current word has been guessed or not.  if the letter has not been guessed it checks to see if the user input matches.  if so, it replaces the blank with a letter, if not it keeps the blank.  if there is already a guessed letter, it keeps the guessed letter.
                for (var i = 0; i < animal[random].length; i++) {


                    if (letters.indexOf(blanks.charAt(i)) > -1) {
                        newWord = newWord + blanks.charAt(i);
                    } else {
                        if (userGuess === animal[random].charAt(i)) {
                            newWord = newWord + userGuess;
                            guessComplete++;
                        } else {
                            newWord = newWord + "_";
                        }
                    }
                }

                if (guessComplete === animal[random].length) {
                    $("#status").text("YOU WIN");
                    $("#guessedWord").text(animal[random]);
                    newWord = "";
                    timesGuess = 10;
                    guessCorrect = [];
                    guessIncorrect = [];
                    keypress = false;
                    guessComplete = 0;
                } else if (timesGuess < 1) {
                    $("#status").text("YOU LOSE");
                    $("#guessedWord").text(animal[random]);
                    newWord = "";
                    timesGuess = 10;
                    guessCorrect = [];
                    guessIncorrect = [];
                    keypress = false;
                    guessComplete = 0;
                }

            }


            blanks = newWord;
            newWord = "";
            $("#blanks").text(blanks);
            $("#timesGuess").text(timesGuess);
            $("#guessIncorrect").text(guessIncorrect);

        }

    })
    </script>
</body>

</html>